#работа #нцму #фитосветильники

## Примитивы

- Стена - полигон с возможностью экструдирования при редактировании. По сути - path с переменной шириной. Один сегмент - минимум треугольник. (возможно стоит сделать каждый сегмент отдельным полигоном, на при этом в одной стене такие полигоны склеены - примыкающие к другому полигону вершины могут находиться только на ребре этого полигона)
- Зона - полигон с возможностью добавления или уменьшения количества полигонов. Минимум - треугольник. Или эллипс. На него добавляется текст, разные иконки. Должна находиться внутри стен, зоны не должны пересекаться. Есть иконка культуры и еще дополнительные иконки
- Текст - для общих пометок (названия помещения).
- Иконки - для обозначения овощей и разных UI (аварий, варнингов).
- UI-элемент, возникающих при наведении на зоны и некоторые иконки
- Background image - изображение - можно менять масштаб, положение, накладывать их друг на друга, чтобы совмещать большие изображения - сделать отдельный редактор для задников
## Холст

Бесконечный. Есть сетка, носящая вспомогательный характер - перемещение по ней объектов через встроенный функционал SVG.js. 
## Панель инструментов

1. Отмена действия/возвращение вперед (надо реализовать паттерн команда с отменой действий)
2. Сохранение в файл
3. Новый холст
4. Загрузка из файла

## Рисование схемы комплекса

Используемые примитивы:
- Стена
- Текст

1) Пользователь загружает изображения в отрисовщик СВГ
2) Подгоняет их расположение относительно друг друга
3) Размещает первый сегмент стены
4) Экструдит ее и подгоняет ширину под изображение
5) Если нужно, замыкает
6) Если не работа над схемой не закончена, переходит к 3 этапу
7) Пользователь может удалять стену целиком или один ее сегмент, превращая одну стену в два объекта. При этом подсветятся зоны, которые находятся вне стен. Сохранить будет возможно, но при использовании схемы будет предупреждение, что с ней все не ок, нужно доработать (состояние ок не ок нужно сохранять, чтобы не перерасчитывать положение зон внутри стен во время использования схемы)
## Размещение новой зоны

1) Пользователь выбирает фигуру для зоны - эллипс или полигон (вбивает целое число - по числу граней - от 3 до 100)
2) Пользователь размещает зону ВНУТРИ стен, не пересекаясь с другими зонами
3) У зоны можно изменить текст подписи и иконку, обозначающую культуру
## Копирование существующей зоны

1) Пользователь кликает на размещенную зону
2) На появившемся UI-интерфейсе нажимает на кнопку копирования
3) Копия прилипает к мышке
4) Размещается внутри стен, не пересекаясь с другой зоной